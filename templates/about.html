{% extends "base.html" %}
{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/about.css') }}">

<!-- ===================== HERO ===================== -->
<section class="about-hero">
    <div class="about-hero-bg">
        <img src="{{ url_for('static', filename='image/element/LABEL.jpg') }}" alt="Catty Cafe">
        <div class="about-hero-overlay"></div>
    </div>
    <div class="about-hero-content">
        <p class="about-hero-eyebrow">Est. 2021 · Phnom Penh</p>
        <h1 class="about-hero-title">We brew <em>more</em><br>than coffee.</h1>
        <p class="about-hero-sub">A story of craft, culture, and community — poured into every cup.</p>
    </div>
    <div class="about-hero-scroll">
        <span>Scroll</span>
        <div class="scroll-line"></div>
    </div>
</section>

<!-- ===================== SECTION 01 — STORY ===================== -->
<section class="about-section bg-white">
    <div class="about-container">

        <div class="about-section-header">
            <span class="section-num">01</span>
            <div class="section-heading-wrap">
                <h2 class="section-heading">Our <em>Story</em></h2>
                <p class="section-label">How It All Began</p>
            </div>
            <div class="section-rule"></div>
        </div>

        <div class="story-grid">
            <div class="story-text">
                <p class="story-lead">Catty Cafe was born from a simple obsession — the belief that a truly great cup of coffee could change someone's entire day.</p>
                <p class="story-body">Founded in 2021 in the heart of Phnom Penh, we started as a tiny corner café with mismatched chairs and an enormous dream. We wanted to create a space where the city's creative minds could slow down, connect, and be inspired.</p>
                <p class="story-body">Today, with locations spanning Seoul and Tokyo, we carry the same soul we started with — an unwavering commitment to quality, hospitality, and the art of the perfect brew.</p>
                <div class="story-stat-row">
                    <div class="stat-item">
                        <span class="stat-num">3</span>
                        <span class="stat-label">Locations</span>
                    </div>
                    <div class="stat-divider"></div>
                    <div class="stat-item">
                        <span class="stat-num">50+</span>
                        <span class="stat-label">Menu Items</span>
                    </div>
                    <div class="stat-divider"></div>
                    <div class="stat-item">
                        <span class="stat-num">2021</span>
                        <span class="stat-label">Founded</span>
                    </div>
                </div>
            </div>
            <div class="story-image-wrap">
                <div class="story-image-main">
                    <img src="{{ url_for('static', filename='image/element/LABEL.jpg') }}" alt="Our Story">
                </div>
                <div class="story-image-accent">
                    <img src="{{ url_for('static', filename='image/element/LABEL.jpg') }}" alt="Detail">
                </div>
            </div>
        </div>

    </div>
</section>

<!-- ===================== SECTION 02 — VALUES ===================== -->
<section class="about-section bg-slate">
    <div class="about-container">

        <div class="about-section-header">
            <span class="section-num">02</span>
            <div class="section-heading-wrap">
                <h2 class="section-heading">What We <em>Stand For</em></h2>
                <p class="section-label">Our Core Values</p>
            </div>
            <div class="section-rule"></div>
        </div>

        <div class="values-grid">
            <div class="value-card">
                <span class="value-num">I</span>
                <h3 class="value-title">Craft First</h3>
                <p class="value-desc">Every bean is sourced with intention. Every drink is made with precision. We never cut corners on quality.</p>
            </div>
            <div class="value-card">
                <span class="value-num">II</span>
                <h3 class="value-title">Community</h3>
                <p class="value-desc">A café is only as good as the people in it. We design every space to invite connection and belonging.</p>
            </div>
            <div class="value-card">
                <span class="value-num">III</span>
                <h3 class="value-title">Sustainability</h3>
                <p class="value-desc">From farm to cup, we make choices that are good for the planet — biodegradable packaging, ethical sourcing, zero waste goals.</p>
            </div>
            <div class="value-card">
                <span class="value-num">IV</span>
                <h3 class="value-title">Innovation</h3>
                <p class="value-desc">We honor tradition while embracing what's next — seasonal menus, experimental blends, and spaces that surprise.</p>
            </div>
        </div>

    </div>
</section>

<!-- ===================== SECTION 03 — FULL WIDTH QUOTE ===================== -->
<section class="about-quote-section">
    <div class="about-quote-inner">
        <span class="quote-mark">"</span>
        <blockquote class="about-quote">
            Good coffee is not just a drink.<br>It is a <em>ritual</em>, a relationship,<br>a reason to pause.
        </blockquote>
        <p class="quote-attr">— The Catty Cafe Philosophy</p>
    </div>
</section>

<!-- ===================== SECTION 04 — TEAM ===================== -->
<section class="about-section bg-white">
    <div class="about-container">

        <div class="about-section-header">
            <span class="section-num">03</span>
            <div class="section-heading-wrap">
                <h2 class="section-heading">The <em>Team</em></h2>
                <p class="section-label">The Faces Behind the Craft</p>
            </div>
            <div class="section-rule"></div>
        </div>

        <!-- Carousel Controls Row -->
        <div class="team-carousel-header">
            <p class="team-carousel-count">
                <span id="teamCurrent">1</span> — <span id="teamTotal">5</span>
            </p>
            <div class="team-carousel-btns">
                <button class="carousel-btn" id="teamPrev" aria-label="Previous">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M19 12H5M12 5l-7 7 7 7"/>
                    </svg>
                </button>
                <button class="carousel-btn" id="teamNext" aria-label="Next">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h14M12 19l7-7-7-7"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Carousel Track Wrapper -->
        <div class="team-carousel-outer">
            <div class="team-carousel-track" id="teamTrack">

                <div class="team-card">
                    <div class="team-img-wrap">
                        <img src="{{ url_for('static', filename='image/staff/Karina.jpg') }}" alt="Karina">
                        <div class="team-img-overlay"><p class="team-quote">"Every detail matters."</p></div>
                    </div>
                    <div class="team-info">
                        <h3 class="team-name">Karina</h3>
                        <span class="team-role">Café Manager</span>
                    </div>
                </div>

                <div class="team-card">
                    <div class="team-img-wrap">
                        <img src="{{ url_for('static', filename='image/staff/giselle.jpg') }}" alt="Giselle">
                        <div class="team-img-overlay"><p class="team-quote">"Coffee is a craft, not a commodity."</p></div>
                    </div>
                    <div class="team-info">
                        <h3 class="team-name">Giselle</h3>
                        <span class="team-role">Head Barista</span>
                    </div>
                </div>

                <div class="team-card">
                    <div class="team-img-wrap">
                        <img src="{{ url_for('static', filename='image/staff/winter.jpg') }}" alt="Winter">
                        <div class="team-img-overlay"><p class="team-quote">"Design shapes how people feel."</p></div>
                    </div>
                    <div class="team-info">
                        <h3 class="team-name">Winter</h3>
                        <span class="team-role">Creative Lead</span>
                    </div>
                </div>

                <div class="team-card">
                    <div class="team-img-wrap">
                        <img src="{{ url_for('static', filename='image/staff/ningnign.jpg') }}" alt="Ningning">
                        <div class="team-img-overlay"><p class="team-quote">"Pastry is love made edible."</p></div>
                    </div>
                    <div class="team-info">
                        <h3 class="team-name">Ningning</h3>
                        <span class="team-role">Pastry Chef</span>
                    </div>
                </div>

                <div class="team-card">
                    <div class="team-img-wrap">
                        <img src="{{ url_for('static', filename='image/staff/wonbin.jpg') }}" alt="Wonbin">
                        <div class="team-img-overlay"><p class="team-quote">"Every roast tells a story."</p></div>
                    </div>
                    <div class="team-info">
                        <h3 class="team-name">Wonbin</h3>
                        <span class="team-role">Artisan Roaster</span>
                    </div>
                </div>

            </div>
        </div>

        <!-- Dot Indicators -->
        <div class="team-dots" id="teamDots"></div>

        <script>
        (function() {
            const track     = document.getElementById('teamTrack');
            const prevBtn   = document.getElementById('teamPrev');
            const nextBtn   = document.getElementById('teamNext');
            const dotsWrap  = document.getElementById('teamDots');
            const currentEl = document.getElementById('teamCurrent');
            const totalEl   = document.getElementById('teamTotal');

            const cards     = track.querySelectorAll('.team-card');
            const total     = cards.length;
            let current     = 0;

            // How many cards visible depends on viewport
            function visibleCount() {
                if (window.innerWidth >= 1024) return 4;
                if (window.innerWidth >= 640)  return 2;
                return 1;
            }

            function maxIndex() {
                return Math.max(0, total - visibleCount());
            }

            // Build dots
            function buildDots() {
                dotsWrap.innerHTML = '';
                const pages = maxIndex() + 1;
                for (let i = 0; i < pages; i++) {
                    const d = document.createElement('button');
                    d.className = 'team-dot' + (i === current ? ' active' : '');
                    d.setAttribute('aria-label', 'Go to slide ' + (i + 1));
                    d.addEventListener('click', () => goTo(i));
                    dotsWrap.appendChild(d);
                }
            }

            function goTo(index) {
                current = Math.max(0, Math.min(index, maxIndex()));
                const cardWidth  = cards[0].offsetWidth;
                const gap        = 28;
                track.style.transform = `translateX(-${current * (cardWidth + gap)}px)`;

                // Update counter
                currentEl.textContent = current + 1;
                totalEl.textContent   = total;

                // Update dots
                dotsWrap.querySelectorAll('.team-dot').forEach((d, i) => {
                    d.classList.toggle('active', i === current);
                });

                // Disable / enable buttons
                prevBtn.disabled = current === 0;
                nextBtn.disabled = current >= maxIndex();
            }

            prevBtn.addEventListener('click', () => goTo(current - 1));
            nextBtn.addEventListener('click', () => goTo(current + 1));

            window.addEventListener('resize', () => { buildDots(); goTo(current); });

            totalEl.textContent = total;
            buildDots();
            goTo(0);
        })();
        </script>

    </div>
</section>

<!-- ===================== SECTION 05 — CTA ===================== -->
<section class="about-cta">
    <div class="about-cta-inner">
        <p class="cta-eyebrow">Join the Family</p>
        <h2 class="cta-title">Ready to be part<br>of our <em>story</em>?</h2>
        <div class="cta-buttons">
            <a href="{{ url_for('product') }}" class="cta-btn cta-btn-dark">Explore Menu</a>
            <a href="#" class="cta-btn cta-btn-outline">Franchise With Us</a>
        </div>
    </div>
</section>

{% endblock %}